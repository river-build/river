specVersion: 1.0.0
indexerHints:
    prune: auto
schema:
    file: ./schema.graphql

dataSources:
    - kind: ethereum
      name: Architect
      network: mainnet
      source:
          address: '0xFD471836031dc5108809D173A067e8486B9047A3'
          abi: Architect
          startBlock: 0
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          file: ./src/spaceFactory.ts
          entities:
              - SpaceCreated
          abis:
              - name: Architect
                file: ../generated/dev/abis/Architect.json
          eventHandlers:
              - event: SpaceCreated(indexed address,indexed uint256,indexed address)
                handler: handleCreateSpace

templates:
    - kind: ethereum/contract
      name: Role
      network: mainnet
      source:
          abi: Roles
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          file: ./src/role.ts
          entities:
              - Role
          abis:
              - name: Roles
                file: ../generated/dev/abis/Roles.json
          eventHandlers:
              - event: RoleCreated(indexed address,indexed uint256)
                handler: handleRoleCreated
    - kind: ethereum/contract
      name: Entitlements
      network: mainnet
      source:
          abi: EntitlementsManager
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          file: ./src/entitlements.ts
          entities:
              - Entitlement
          abis:
              - name: EntitlementsManager
                file: ../generated/dev/abis/EntitlementsManager.json
          eventHandlers:
              - event: EntitlementModuleAdded(indexed address,address)
                handler: handleEntitlementModuleAdded
    - kind: ethereum/contract
      name: Channels
      network: mainnet
      source:
          abi: Channels
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          file: ./src/channels.ts
          entities:
              - Channel
          abis:
              - name: Channels
                file: ../generated/dev/abis/Channels.json
          eventHandlers:
              - event: ChannelCreated(indexed address,bytes32)
                handler: handleChannelCreated
