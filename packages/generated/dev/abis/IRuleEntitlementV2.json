{"abi":[{"type":"function","name":"description","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"encodeRuleData","inputs":[{"name":"data","type":"tuple","internalType":"struct IRuleEntitlementBase.RuleDataV2","components":[{"name":"operations","type":"tuple[]","internalType":"struct IRuleEntitlementBase.Operation[]","components":[{"name":"opType","type":"uint8","internalType":"enum IRuleEntitlementBase.CombinedOperationType"},{"name":"index","type":"uint8","internalType":"uint8"}]},{"name":"checkOperations","type":"tuple[]","internalType":"struct IRuleEntitlementBase.CheckOperationV2[]","components":[{"name":"opType","type":"uint8","internalType":"enum IRuleEntitlementBase.CheckOperationType"},{"name":"chainId","type":"uint256","internalType":"uint256"},{"name":"contractAddress","type":"address","internalType":"address"},{"name":"params","type":"bytes","internalType":"bytes"}]},{"name":"logicalOperations","type":"tuple[]","internalType":"struct IRuleEntitlementBase.LogicalOperation[]","components":[{"name":"logOpType","type":"uint8","internalType":"enum IRuleEntitlementBase.LogicalOperationType"},{"name":"leftOperationIndex","type":"uint8","internalType":"uint8"},{"name":"rightOperationIndex","type":"uint8","internalType":"uint8"}]}]}],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"pure"},{"type":"function","name":"getEntitlementDataByRoleId","inputs":[{"name":"roleId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"getRuleDataV2","inputs":[{"name":"roleId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"data","type":"tuple","internalType":"struct IRuleEntitlementBase.RuleDataV2","components":[{"name":"operations","type":"tuple[]","internalType":"struct IRuleEntitlementBase.Operation[]","components":[{"name":"opType","type":"uint8","internalType":"enum IRuleEntitlementBase.CombinedOperationType"},{"name":"index","type":"uint8","internalType":"uint8"}]},{"name":"checkOperations","type":"tuple[]","internalType":"struct IRuleEntitlementBase.CheckOperationV2[]","components":[{"name":"opType","type":"uint8","internalType":"enum IRuleEntitlementBase.CheckOperationType"},{"name":"chainId","type":"uint256","internalType":"uint256"},{"name":"contractAddress","type":"address","internalType":"address"},{"name":"params","type":"bytes","internalType":"bytes"}]},{"name":"logicalOperations","type":"tuple[]","internalType":"struct IRuleEntitlementBase.LogicalOperation[]","components":[{"name":"logOpType","type":"uint8","internalType":"enum IRuleEntitlementBase.LogicalOperationType"},{"name":"leftOperationIndex","type":"uint8","internalType":"uint8"},{"name":"rightOperationIndex","type":"uint8","internalType":"uint8"}]}]}],"stateMutability":"view"},{"type":"function","name":"initialize","inputs":[{"name":"space","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"isCrosschain","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isEntitled","inputs":[{"name":"channelId","type":"bytes32","internalType":"bytes32"},{"name":"user","type":"address[]","internalType":"address[]"},{"name":"permission","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"moduleType","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"name","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"removeEntitlement","inputs":[{"name":"roleId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setEntitlement","inputs":[{"name":"roleId","type":"uint256","internalType":"uint256"},{"name":"entitlementData","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"error","name":"CheckOperationsLimitReaced","inputs":[{"name":"limit","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"Entitlement__InvalidValue","inputs":[]},{"type":"error","name":"Entitlement__NotAllowed","inputs":[]},{"type":"error","name":"Entitlement__NotMember","inputs":[]},{"type":"error","name":"Entitlement__ValueAlreadyExists","inputs":[]},{"type":"error","name":"InvalidCheckOperationIndex","inputs":[{"name":"operationIndex","type":"uint8","internalType":"uint8"},{"name":"checkOperationsLength","type":"uint8","internalType":"uint8"}]},{"type":"error","name":"InvalidLeftOperationIndex","inputs":[{"name":"leftOperationIndex","type":"uint8","internalType":"uint8"},{"name":"currentOperationIndex","type":"uint8","internalType":"uint8"}]},{"type":"error","name":"InvalidLogicalOperationIndex","inputs":[{"name":"operationIndex","type":"uint8","internalType":"uint8"},{"name":"logicalOperationsLength","type":"uint8","internalType":"uint8"}]},{"type":"error","name":"InvalidOperationType","inputs":[{"name":"opType","type":"uint8","internalType":"enum IRuleEntitlementBase.CombinedOperationType"}]},{"type":"error","name":"InvalidRightOperationIndex","inputs":[{"name":"rightOperationIndex","type":"uint8","internalType":"uint8"},{"name":"currentOperationIndex","type":"uint8","internalType":"uint8"}]},{"type":"error","name":"LogicalOperationLimitReached","inputs":[{"name":"limit","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"OperationsLimitReached","inputs":[{"name":"limit","type":"uint256","internalType":"uint256"}]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"description()":"7284e416","encodeRuleData(((uint8,uint8)[],(uint8,uint256,address,bytes)[],(uint8,uint8,uint8)[]))":"27bbccbc","getEntitlementDataByRoleId(uint256)":"1eee07b2","getRuleDataV2(uint256)":"68ab7dd6","initialize(address)":"c4d66de8","isCrosschain()":"2e1b61e4","isEntitled(bytes32,address[],bytes32)":"0cf0b533","moduleType()":"6465e69f","name()":"06fdde03","removeEntitlement(uint256)":"f0c111f9","setEntitlement(uint256,bytes)":"ef8be574"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"limit\",\"type\":\"uint256\"}],\"name\":\"CheckOperationsLimitReaced\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Entitlement__InvalidValue\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Entitlement__NotAllowed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Entitlement__NotMember\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"Entitlement__ValueAlreadyExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"operationIndex\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"checkOperationsLength\",\"type\":\"uint8\"}],\"name\":\"InvalidCheckOperationIndex\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"leftOperationIndex\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"currentOperationIndex\",\"type\":\"uint8\"}],\"name\":\"InvalidLeftOperationIndex\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"operationIndex\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"logicalOperationsLength\",\"type\":\"uint8\"}],\"name\":\"InvalidLogicalOperationIndex\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"enum IRuleEntitlementBase.CombinedOperationType\",\"name\":\"opType\",\"type\":\"uint8\"}],\"name\":\"InvalidOperationType\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"rightOperationIndex\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"currentOperationIndex\",\"type\":\"uint8\"}],\"name\":\"InvalidRightOperationIndex\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"limit\",\"type\":\"uint256\"}],\"name\":\"LogicalOperationLimitReached\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"limit\",\"type\":\"uint256\"}],\"name\":\"OperationsLimitReached\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"components\":[{\"internalType\":\"enum IRuleEntitlementBase.CombinedOperationType\",\"name\":\"opType\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"index\",\"type\":\"uint8\"}],\"internalType\":\"struct IRuleEntitlementBase.Operation[]\",\"name\":\"operations\",\"type\":\"tuple[]\"},{\"components\":[{\"internalType\":\"enum IRuleEntitlementBase.CheckOperationType\",\"name\":\"opType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"chainId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"params\",\"type\":\"bytes\"}],\"internalType\":\"struct IRuleEntitlementBase.CheckOperationV2[]\",\"name\":\"checkOperations\",\"type\":\"tuple[]\"},{\"components\":[{\"internalType\":\"enum IRuleEntitlementBase.LogicalOperationType\",\"name\":\"logOpType\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"leftOperationIndex\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"rightOperationIndex\",\"type\":\"uint8\"}],\"internalType\":\"struct IRuleEntitlementBase.LogicalOperation[]\",\"name\":\"logicalOperations\",\"type\":\"tuple[]\"}],\"internalType\":\"struct IRuleEntitlementBase.RuleDataV2\",\"name\":\"data\",\"type\":\"tuple\"}],\"name\":\"encodeRuleData\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"roleId\",\"type\":\"uint256\"}],\"name\":\"getEntitlementDataByRoleId\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"roleId\",\"type\":\"uint256\"}],\"name\":\"getRuleDataV2\",\"outputs\":[{\"components\":[{\"components\":[{\"internalType\":\"enum IRuleEntitlementBase.CombinedOperationType\",\"name\":\"opType\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"index\",\"type\":\"uint8\"}],\"internalType\":\"struct IRuleEntitlementBase.Operation[]\",\"name\":\"operations\",\"type\":\"tuple[]\"},{\"components\":[{\"internalType\":\"enum IRuleEntitlementBase.CheckOperationType\",\"name\":\"opType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"chainId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"contractAddress\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"params\",\"type\":\"bytes\"}],\"internalType\":\"struct IRuleEntitlementBase.CheckOperationV2[]\",\"name\":\"checkOperations\",\"type\":\"tuple[]\"},{\"components\":[{\"internalType\":\"enum IRuleEntitlementBase.LogicalOperationType\",\"name\":\"logOpType\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"leftOperationIndex\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"rightOperationIndex\",\"type\":\"uint8\"}],\"internalType\":\"struct IRuleEntitlementBase.LogicalOperation[]\",\"name\":\"logicalOperations\",\"type\":\"tuple[]\"}],\"internalType\":\"struct IRuleEntitlementBase.RuleDataV2\",\"name\":\"data\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"space\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isCrosschain\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"channelId\",\"type\":\"bytes32\"},{\"internalType\":\"address[]\",\"name\":\"user\",\"type\":\"address[]\"},{\"internalType\":\"bytes32\",\"name\":\"permission\",\"type\":\"bytes32\"}],\"name\":\"isEntitled\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"moduleType\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"roleId\",\"type\":\"uint256\"}],\"name\":\"removeEntitlement\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"roleId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"entitlementData\",\"type\":\"bytes\"}],\"name\":\"setEntitlement\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"encodeRuleData(((uint8,uint8)[],(uint8,uint256,address,bytes)[],(uint8,uint8,uint8)[]))\":{\"params\":{\"data\":\"RuleData struct to encode\"},\"returns\":{\"_0\":\"Encoded bytes of the RuleData struct\"}},\"getEntitlementDataByRoleId(uint256)\":{\"params\":{\"roleId\":\"the roleId to fetch the entitlement data for\"},\"returns\":{\"_0\":\"entitlementData array for the role\"}},\"getRuleDataV2(uint256)\":{\"params\":{\"roleId\":\"Role ID\"},\"returns\":{\"data\":\"RuleDataV2 struct\"}},\"isCrosschain()\":{\"returns\":{\"_0\":\"whether this entitlement will require crosschain evaluation\"}},\"isEntitled(bytes32,address[],bytes32)\":{\"params\":{\"channelId\":\"id of the channel to check, if empty, checks space\",\"permission\":\"the permission to check\",\"user\":\"address of the user to check\"},\"returns\":{\"_0\":\"whether the user is entitled to the permission\"}},\"removeEntitlement(uint256)\":{\"params\":{\"roleId\":\"id of the role to remove\"}},\"setEntitlement(uint256,bytes)\":{\"params\":{\"entitlementData\":\"abi encoded array of data necessary to set the entitlement\",\"roleId\":\"id of the role to gate\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"description()\":{\"notice\":\"The description of the entitlement module\"},\"encodeRuleData(((uint8,uint8)[],(uint8,uint256,address,bytes)[],(uint8,uint8,uint8)[]))\":{\"notice\":\"Encodes the RuleData struct into bytes\"},\"getEntitlementDataByRoleId(uint256)\":{\"notice\":\"fetches the entitlement data for a roleId\"},\"getRuleDataV2(uint256)\":{\"notice\":\"Decodes the RuleDataV2 struct from bytes\"},\"initialize(address)\":{\"notice\":\"initializes the entitlement module\"},\"isCrosschain()\":{\"notice\":\"some entitlements require cross chain evaluation and may not be executed directly from other contracts\"},\"isEntitled(bytes32,address[],bytes32)\":{\"notice\":\"checks whether a user is has a given permission for a channel or a space\"},\"moduleType()\":{\"notice\":\"The type of the entitlement module\"},\"name()\":{\"notice\":\"The name of the entitlement module\"},\"removeEntitlement(uint256)\":{\"notice\":\"removes an entitlement\"},\"setEntitlement(uint256,bytes)\":{\"notice\":\"sets a new entitlement\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/src/spaces/entitlements/rule/IRuleEntitlement.sol\":\"IRuleEntitlementV2\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"appendCBOR\":false,\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/@openzeppelin/\",\":@prb/math/=lib/@prb/math/src/\",\":@prb/test/=lib/@prb/test/src/\",\":account-abstraction/=lib/account-abstraction/contracts/\",\":base64/=lib/base64/\",\":ds-test/=lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":hardhat-deploy/=lib/hardhat-deploy/\",\":solady/=lib/solady/src/\"]},\"sources\":{\"contracts/src/spaces/entitlements/IEntitlement.sol\":{\"keccak256\":\"0x81712a4b9127000ba341966d99395917dcb4b1305eadeddd1e1ad4e562587fdd\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://df0fcc9d7ed7489786684f5fa8375b277146969021f96f6a9feb81cb39176eca\",\"dweb:/ipfs/QmbxXXeXe6AzXUL8cSoABMx2E2QbRAK2uJXd8TRnDuKSJ8\"]},\"contracts/src/spaces/entitlements/rule/IRuleEntitlement.sol\":{\"keccak256\":\"0x2ad8c7e10beb26f80dde5445b9aa8fcb2fcbcb149c38d94e4434982924b6eb27\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://de00bf4a319a6c4c8a227039e9ac39f01ddc21f5c61186d7067614d686d010fd\",\"dweb:/ipfs/QmWseV2PXggxynEEDXq8HkLQstC9e8BFYVQFhrfxVaVH6j\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"limit","type":"uint256"}],"type":"error","name":"CheckOperationsLimitReaced"},{"inputs":[],"type":"error","name":"Entitlement__InvalidValue"},{"inputs":[],"type":"error","name":"Entitlement__NotAllowed"},{"inputs":[],"type":"error","name":"Entitlement__NotMember"},{"inputs":[],"type":"error","name":"Entitlement__ValueAlreadyExists"},{"inputs":[{"internalType":"uint8","name":"operationIndex","type":"uint8"},{"internalType":"uint8","name":"checkOperationsLength","type":"uint8"}],"type":"error","name":"InvalidCheckOperationIndex"},{"inputs":[{"internalType":"uint8","name":"leftOperationIndex","type":"uint8"},{"internalType":"uint8","name":"currentOperationIndex","type":"uint8"}],"type":"error","name":"InvalidLeftOperationIndex"},{"inputs":[{"internalType":"uint8","name":"operationIndex","type":"uint8"},{"internalType":"uint8","name":"logicalOperationsLength","type":"uint8"}],"type":"error","name":"InvalidLogicalOperationIndex"},{"inputs":[{"internalType":"enum IRuleEntitlementBase.CombinedOperationType","name":"opType","type":"uint8"}],"type":"error","name":"InvalidOperationType"},{"inputs":[{"internalType":"uint8","name":"rightOperationIndex","type":"uint8"},{"internalType":"uint8","name":"currentOperationIndex","type":"uint8"}],"type":"error","name":"InvalidRightOperationIndex"},{"inputs":[{"internalType":"uint256","name":"limit","type":"uint256"}],"type":"error","name":"LogicalOperationLimitReached"},{"inputs":[{"internalType":"uint256","name":"limit","type":"uint256"}],"type":"error","name":"OperationsLimitReached"},{"inputs":[],"stateMutability":"view","type":"function","name":"description","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"struct IRuleEntitlementBase.RuleDataV2","name":"data","type":"tuple","components":[{"internalType":"struct IRuleEntitlementBase.Operation[]","name":"operations","type":"tuple[]","components":[{"internalType":"enum IRuleEntitlementBase.CombinedOperationType","name":"opType","type":"uint8"},{"internalType":"uint8","name":"index","type":"uint8"}]},{"internalType":"struct IRuleEntitlementBase.CheckOperationV2[]","name":"checkOperations","type":"tuple[]","components":[{"internalType":"enum IRuleEntitlementBase.CheckOperationType","name":"opType","type":"uint8"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"contractAddress","type":"address"},{"internalType":"bytes","name":"params","type":"bytes"}]},{"internalType":"struct IRuleEntitlementBase.LogicalOperation[]","name":"logicalOperations","type":"tuple[]","components":[{"internalType":"enum IRuleEntitlementBase.LogicalOperationType","name":"logOpType","type":"uint8"},{"internalType":"uint8","name":"leftOperationIndex","type":"uint8"},{"internalType":"uint8","name":"rightOperationIndex","type":"uint8"}]}]}],"stateMutability":"pure","type":"function","name":"encodeRuleData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"uint256","name":"roleId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getEntitlementDataByRoleId","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"uint256","name":"roleId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getRuleDataV2","outputs":[{"internalType":"struct IRuleEntitlementBase.RuleDataV2","name":"data","type":"tuple","components":[{"internalType":"struct IRuleEntitlementBase.Operation[]","name":"operations","type":"tuple[]","components":[{"internalType":"enum IRuleEntitlementBase.CombinedOperationType","name":"opType","type":"uint8"},{"internalType":"uint8","name":"index","type":"uint8"}]},{"internalType":"struct IRuleEntitlementBase.CheckOperationV2[]","name":"checkOperations","type":"tuple[]","components":[{"internalType":"enum IRuleEntitlementBase.CheckOperationType","name":"opType","type":"uint8"},{"internalType":"uint256","name":"chainId","type":"uint256"},{"internalType":"address","name":"contractAddress","type":"address"},{"internalType":"bytes","name":"params","type":"bytes"}]},{"internalType":"struct IRuleEntitlementBase.LogicalOperation[]","name":"logicalOperations","type":"tuple[]","components":[{"internalType":"enum IRuleEntitlementBase.LogicalOperationType","name":"logOpType","type":"uint8"},{"internalType":"uint8","name":"leftOperationIndex","type":"uint8"},{"internalType":"uint8","name":"rightOperationIndex","type":"uint8"}]}]}]},{"inputs":[{"internalType":"address","name":"space","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"initialize"},{"inputs":[],"stateMutability":"view","type":"function","name":"isCrosschain","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"bytes32","name":"channelId","type":"bytes32"},{"internalType":"address[]","name":"user","type":"address[]"},{"internalType":"bytes32","name":"permission","type":"bytes32"}],"stateMutability":"view","type":"function","name":"isEntitled","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"moduleType","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"name","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"uint256","name":"roleId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"removeEntitlement"},{"inputs":[{"internalType":"uint256","name":"roleId","type":"uint256"},{"internalType":"bytes","name":"entitlementData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"setEntitlement"}],"devdoc":{"kind":"dev","methods":{"encodeRuleData(((uint8,uint8)[],(uint8,uint256,address,bytes)[],(uint8,uint8,uint8)[]))":{"params":{"data":"RuleData struct to encode"},"returns":{"_0":"Encoded bytes of the RuleData struct"}},"getEntitlementDataByRoleId(uint256)":{"params":{"roleId":"the roleId to fetch the entitlement data for"},"returns":{"_0":"entitlementData array for the role"}},"getRuleDataV2(uint256)":{"params":{"roleId":"Role ID"},"returns":{"data":"RuleDataV2 struct"}},"isCrosschain()":{"returns":{"_0":"whether this entitlement will require crosschain evaluation"}},"isEntitled(bytes32,address[],bytes32)":{"params":{"channelId":"id of the channel to check, if empty, checks space","permission":"the permission to check","user":"address of the user to check"},"returns":{"_0":"whether the user is entitled to the permission"}},"removeEntitlement(uint256)":{"params":{"roleId":"id of the role to remove"}},"setEntitlement(uint256,bytes)":{"params":{"entitlementData":"abi encoded array of data necessary to set the entitlement","roleId":"id of the role to gate"}}},"version":1},"userdoc":{"kind":"user","methods":{"description()":{"notice":"The description of the entitlement module"},"encodeRuleData(((uint8,uint8)[],(uint8,uint256,address,bytes)[],(uint8,uint8,uint8)[]))":{"notice":"Encodes the RuleData struct into bytes"},"getEntitlementDataByRoleId(uint256)":{"notice":"fetches the entitlement data for a roleId"},"getRuleDataV2(uint256)":{"notice":"Decodes the RuleDataV2 struct from bytes"},"initialize(address)":{"notice":"initializes the entitlement module"},"isCrosschain()":{"notice":"some entitlements require cross chain evaluation and may not be executed directly from other contracts"},"isEntitled(bytes32,address[],bytes32)":{"notice":"checks whether a user is has a given permission for a channel or a space"},"moduleType()":{"notice":"The type of the entitlement module"},"name()":{"notice":"The name of the entitlement module"},"removeEntitlement(uint256)":{"notice":"removes an entitlement"},"setEntitlement(uint256,bytes)":{"notice":"sets a new entitlement"}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/@openzeppelin/","@prb/math/=lib/@prb/math/src/","@prb/test/=lib/@prb/test/src/","account-abstraction/=lib/account-abstraction/contracts/","base64/=lib/base64/","ds-test/=lib/ds-test/src/","forge-std/=lib/forge-std/src/","hardhat-deploy/=lib/hardhat-deploy/","solady/=lib/solady/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"none","appendCBOR":false},"compilationTarget":{"contracts/src/spaces/entitlements/rule/IRuleEntitlement.sol":"IRuleEntitlementV2"},"evmVersion":"paris","libraries":{}},"sources":{"contracts/src/spaces/entitlements/IEntitlement.sol":{"keccak256":"0x81712a4b9127000ba341966d99395917dcb4b1305eadeddd1e1ad4e562587fdd","urls":["bzz-raw://df0fcc9d7ed7489786684f5fa8375b277146969021f96f6a9feb81cb39176eca","dweb:/ipfs/QmbxXXeXe6AzXUL8cSoABMx2E2QbRAK2uJXd8TRnDuKSJ8"],"license":"MIT"},"contracts/src/spaces/entitlements/rule/IRuleEntitlement.sol":{"keccak256":"0x2ad8c7e10beb26f80dde5445b9aa8fcb2fcbcb149c38d94e4434982924b6eb27","urls":["bzz-raw://de00bf4a319a6c4c8a227039e9ac39f01ddc21f5c61186d7067614d686d010fd","dweb:/ipfs/QmWseV2PXggxynEEDXq8HkLQstC9e8BFYVQFhrfxVaVH6j"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"contracts/src/spaces/entitlements/rule/IRuleEntitlement.sol","id":32234,"exportedSymbols":{"IEntitlement":[32065],"IRuleEntitlement":[32233],"IRuleEntitlementBase":[32187],"IRuleEntitlementV2":[32210]},"nodeType":"SourceUnit","src":"32:4556:207","nodes":[{"id":32067,"nodeType":"PragmaDirective","src":"32:24:207","nodes":[],"literals":["solidity","^","0.8",".24"]},{"id":32069,"nodeType":"ImportDirective","src":"72:80:207","nodes":[],"absolutePath":"contracts/src/spaces/entitlements/IEntitlement.sol","file":"contracts/src/spaces/entitlements/IEntitlement.sol","nameLocation":"-1:-1:-1","scope":32234,"sourceUnit":32066,"symbolAliases":[{"foreign":{"id":32068,"name":"IEntitlement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":32065,"src":"80:12:207","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":32187,"nodeType":"ContractDefinition","src":"854:2289:207","nodes":[{"id":32074,"nodeType":"ErrorDefinition","src":"1061:48:207","nodes":[],"errorSelector":"dc5f489a","name":"CheckOperationsLimitReaced","nameLocation":"1067:26:207","parameters":{"id":32073,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32072,"mutability":"mutable","name":"limit","nameLocation":"1102:5:207","nodeType":"VariableDeclaration","scope":32074,"src":"1094:13:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":32071,"name":"uint256","nodeType":"ElementaryTypeName","src":"1094:7:207","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1093:15:207"}},{"id":32078,"nodeType":"ErrorDefinition","src":"1112:44:207","nodes":[],"errorSelector":"5a5bcfbd","name":"OperationsLimitReached","nameLocation":"1118:22:207","parameters":{"id":32077,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32076,"mutability":"mutable","name":"limit","nameLocation":"1149:5:207","nodeType":"VariableDeclaration","scope":32078,"src":"1141:13:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":32075,"name":"uint256","nodeType":"ElementaryTypeName","src":"1141:7:207","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1140:15:207"}},{"id":32082,"nodeType":"ErrorDefinition","src":"1159:50:207","nodes":[],"errorSelector":"ee1a7b43","name":"LogicalOperationLimitReached","nameLocation":"1165:28:207","parameters":{"id":32081,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32080,"mutability":"mutable","name":"limit","nameLocation":"1202:5:207","nodeType":"VariableDeclaration","scope":32082,"src":"1194:13:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":32079,"name":"uint256","nodeType":"ElementaryTypeName","src":"1194:7:207","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1193:15:207"}},{"id":32088,"nodeType":"ErrorDefinition","src":"1212:96:207","nodes":[],"errorSelector":"6b0eb2a3","name":"InvalidCheckOperationIndex","nameLocation":"1218:26:207","parameters":{"id":32087,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32084,"mutability":"mutable","name":"operationIndex","nameLocation":"1256:14:207","nodeType":"VariableDeclaration","scope":32088,"src":"1250:20:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32083,"name":"uint8","nodeType":"ElementaryTypeName","src":"1250:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":32086,"mutability":"mutable","name":"checkOperationsLength","nameLocation":"1282:21:207","nodeType":"VariableDeclaration","scope":32088,"src":"1276:27:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32085,"name":"uint8","nodeType":"ElementaryTypeName","src":"1276:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"1244:63:207"}},{"id":32094,"nodeType":"ErrorDefinition","src":"1311:100:207","nodes":[],"errorSelector":"84fc44fc","name":"InvalidLogicalOperationIndex","nameLocation":"1317:28:207","parameters":{"id":32093,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32090,"mutability":"mutable","name":"operationIndex","nameLocation":"1357:14:207","nodeType":"VariableDeclaration","scope":32094,"src":"1351:20:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32089,"name":"uint8","nodeType":"ElementaryTypeName","src":"1351:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":32092,"mutability":"mutable","name":"logicalOperationsLength","nameLocation":"1383:23:207","nodeType":"VariableDeclaration","scope":32094,"src":"1377:29:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32091,"name":"uint8","nodeType":"ElementaryTypeName","src":"1377:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"1345:65:207"}},{"id":32099,"nodeType":"ErrorDefinition","src":"1414:57:207","nodes":[],"errorSelector":"6b1b4adc","name":"InvalidOperationType","nameLocation":"1420:20:207","parameters":{"id":32098,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32097,"mutability":"mutable","name":"opType","nameLocation":"1463:6:207","nodeType":"VariableDeclaration","scope":32099,"src":"1441:28:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_CombinedOperationType_$32126","typeString":"enum IRuleEntitlementBase.CombinedOperationType"},"typeName":{"id":32096,"nodeType":"UserDefinedTypeName","pathNode":{"id":32095,"name":"CombinedOperationType","nameLocations":["1441:21:207"],"nodeType":"IdentifierPath","referencedDeclaration":32126,"src":"1441:21:207"},"referencedDeclaration":32126,"src":"1441:21:207","typeDescriptions":{"typeIdentifier":"t_enum$_CombinedOperationType_$32126","typeString":"enum IRuleEntitlementBase.CombinedOperationType"}},"visibility":"internal"}],"src":"1440:30:207"}},{"id":32105,"nodeType":"ErrorDefinition","src":"1474:99:207","nodes":[],"errorSelector":"447334e3","name":"InvalidLeftOperationIndex","nameLocation":"1480:25:207","parameters":{"id":32104,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32101,"mutability":"mutable","name":"leftOperationIndex","nameLocation":"1517:18:207","nodeType":"VariableDeclaration","scope":32105,"src":"1511:24:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32100,"name":"uint8","nodeType":"ElementaryTypeName","src":"1511:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":32103,"mutability":"mutable","name":"currentOperationIndex","nameLocation":"1547:21:207","nodeType":"VariableDeclaration","scope":32105,"src":"1541:27:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32102,"name":"uint8","nodeType":"ElementaryTypeName","src":"1541:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"1505:67:207"}},{"id":32111,"nodeType":"ErrorDefinition","src":"1576:101:207","nodes":[],"errorSelector":"858dd017","name":"InvalidRightOperationIndex","nameLocation":"1582:26:207","parameters":{"id":32110,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32107,"mutability":"mutable","name":"rightOperationIndex","nameLocation":"1620:19:207","nodeType":"VariableDeclaration","scope":32111,"src":"1614:25:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32106,"name":"uint8","nodeType":"ElementaryTypeName","src":"1614:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":32109,"mutability":"mutable","name":"currentOperationIndex","nameLocation":"1651:21:207","nodeType":"VariableDeclaration","scope":32111,"src":"1645:27:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32108,"name":"uint8","nodeType":"ElementaryTypeName","src":"1645:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"1608:68:207"}},{"id":32118,"nodeType":"EnumDefinition","src":"1852:100:207","nodes":[],"canonicalName":"IRuleEntitlementBase.CheckOperationType","members":[{"id":32112,"name":"NONE","nameLocation":"1882:4:207","nodeType":"EnumValue","src":"1882:4:207"},{"id":32113,"name":"MOCK","nameLocation":"1892:4:207","nodeType":"EnumValue","src":"1892:4:207"},{"id":32114,"name":"ERC20","nameLocation":"1902:5:207","nodeType":"EnumValue","src":"1902:5:207"},{"id":32115,"name":"ERC721","nameLocation":"1913:6:207","nodeType":"EnumValue","src":"1913:6:207"},{"id":32116,"name":"ERC1155","nameLocation":"1925:7:207","nodeType":"EnumValue","src":"1925:7:207"},{"id":32117,"name":"ISENTITLED","nameLocation":"1938:10:207","nodeType":"EnumValue","src":"1938:10:207"}],"name":"CheckOperationType","nameLocation":"1857:18:207"},{"id":32122,"nodeType":"EnumDefinition","src":"2003:57:207","nodes":[],"canonicalName":"IRuleEntitlementBase.LogicalOperationType","members":[{"id":32119,"name":"NONE","nameLocation":"2035:4:207","nodeType":"EnumValue","src":"2035:4:207"},{"id":32120,"name":"AND","nameLocation":"2045:3:207","nodeType":"EnumValue","src":"2045:3:207"},{"id":32121,"name":"OR","nameLocation":"2054:2:207","nodeType":"EnumValue","src":"2054:2:207"}],"name":"LogicalOperationType","nameLocation":"2008:20:207"},{"id":32126,"nodeType":"EnumDefinition","src":"2096:65:207","nodes":[],"canonicalName":"IRuleEntitlementBase.CombinedOperationType","members":[{"id":32123,"name":"NONE","nameLocation":"2129:4:207","nodeType":"EnumValue","src":"2129:4:207"},{"id":32124,"name":"CHECK","nameLocation":"2139:5:207","nodeType":"EnumValue","src":"2139:5:207"},{"id":32125,"name":"LOGICAL","nameLocation":"2150:7:207","nodeType":"EnumValue","src":"2150:7:207"}],"name":"CombinedOperationType","nameLocation":"2101:21:207"},{"id":32136,"nodeType":"StructDefinition","src":"2338:131:207","nodes":[],"canonicalName":"IRuleEntitlementBase.CheckOperation","members":[{"constant":false,"id":32129,"mutability":"mutable","name":"opType","nameLocation":"2385:6:207","nodeType":"VariableDeclaration","scope":32136,"src":"2366:25:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_CheckOperationType_$32118","typeString":"enum IRuleEntitlementBase.CheckOperationType"},"typeName":{"id":32128,"nodeType":"UserDefinedTypeName","pathNode":{"id":32127,"name":"CheckOperationType","nameLocations":["2366:18:207"],"nodeType":"IdentifierPath","referencedDeclaration":32118,"src":"2366:18:207"},"referencedDeclaration":32118,"src":"2366:18:207","typeDescriptions":{"typeIdentifier":"t_enum$_CheckOperationType_$32118","typeString":"enum IRuleEntitlementBase.CheckOperationType"}},"visibility":"internal"},{"constant":false,"id":32131,"mutability":"mutable","name":"chainId","nameLocation":"2405:7:207","nodeType":"VariableDeclaration","scope":32136,"src":"2397:15:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":32130,"name":"uint256","nodeType":"ElementaryTypeName","src":"2397:7:207","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":32133,"mutability":"mutable","name":"contractAddress","nameLocation":"2426:15:207","nodeType":"VariableDeclaration","scope":32136,"src":"2418:23:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":32132,"name":"address","nodeType":"ElementaryTypeName","src":"2418:7:207","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":32135,"mutability":"mutable","name":"threshold","nameLocation":"2455:9:207","nodeType":"VariableDeclaration","scope":32136,"src":"2447:17:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":32134,"name":"uint256","nodeType":"ElementaryTypeName","src":"2447:7:207","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"CheckOperation","nameLocation":"2345:14:207","scope":32187,"visibility":"public"},{"id":32146,"nodeType":"StructDefinition","src":"2473:128:207","nodes":[],"canonicalName":"IRuleEntitlementBase.CheckOperationV2","members":[{"constant":false,"id":32139,"mutability":"mutable","name":"opType","nameLocation":"2522:6:207","nodeType":"VariableDeclaration","scope":32146,"src":"2503:25:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_CheckOperationType_$32118","typeString":"enum IRuleEntitlementBase.CheckOperationType"},"typeName":{"id":32138,"nodeType":"UserDefinedTypeName","pathNode":{"id":32137,"name":"CheckOperationType","nameLocations":["2503:18:207"],"nodeType":"IdentifierPath","referencedDeclaration":32118,"src":"2503:18:207"},"referencedDeclaration":32118,"src":"2503:18:207","typeDescriptions":{"typeIdentifier":"t_enum$_CheckOperationType_$32118","typeString":"enum IRuleEntitlementBase.CheckOperationType"}},"visibility":"internal"},{"constant":false,"id":32141,"mutability":"mutable","name":"chainId","nameLocation":"2542:7:207","nodeType":"VariableDeclaration","scope":32146,"src":"2534:15:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":32140,"name":"uint256","nodeType":"ElementaryTypeName","src":"2534:7:207","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":32143,"mutability":"mutable","name":"contractAddress","nameLocation":"2563:15:207","nodeType":"VariableDeclaration","scope":32146,"src":"2555:23:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":32142,"name":"address","nodeType":"ElementaryTypeName","src":"2555:7:207","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":32145,"mutability":"mutable","name":"params","nameLocation":"2590:6:207","nodeType":"VariableDeclaration","scope":32146,"src":"2584:12:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"},"typeName":{"id":32144,"name":"bytes","nodeType":"ElementaryTypeName","src":"2584:5:207","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"name":"CheckOperationV2","nameLocation":"2480:16:207","scope":32187,"visibility":"public"},{"id":32154,"nodeType":"StructDefinition","src":"2605:126:207","nodes":[],"canonicalName":"IRuleEntitlementBase.LogicalOperation","members":[{"constant":false,"id":32149,"mutability":"mutable","name":"logOpType","nameLocation":"2656:9:207","nodeType":"VariableDeclaration","scope":32154,"src":"2635:30:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_LogicalOperationType_$32122","typeString":"enum IRuleEntitlementBase.LogicalOperationType"},"typeName":{"id":32148,"nodeType":"UserDefinedTypeName","pathNode":{"id":32147,"name":"LogicalOperationType","nameLocations":["2635:20:207"],"nodeType":"IdentifierPath","referencedDeclaration":32122,"src":"2635:20:207"},"referencedDeclaration":32122,"src":"2635:20:207","typeDescriptions":{"typeIdentifier":"t_enum$_LogicalOperationType_$32122","typeString":"enum IRuleEntitlementBase.LogicalOperationType"}},"visibility":"internal"},{"constant":false,"id":32151,"mutability":"mutable","name":"leftOperationIndex","nameLocation":"2677:18:207","nodeType":"VariableDeclaration","scope":32154,"src":"2671:24:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32150,"name":"uint8","nodeType":"ElementaryTypeName","src":"2671:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":32153,"mutability":"mutable","name":"rightOperationIndex","nameLocation":"2707:19:207","nodeType":"VariableDeclaration","scope":32154,"src":"2701:25:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32152,"name":"uint8","nodeType":"ElementaryTypeName","src":"2701:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"name":"LogicalOperation","nameLocation":"2612:16:207","scope":32187,"visibility":"public"},{"id":32160,"nodeType":"StructDefinition","src":"2735:136:207","nodes":[],"canonicalName":"IRuleEntitlementBase.Operation","members":[{"constant":false,"id":32157,"mutability":"mutable","name":"opType","nameLocation":"2780:6:207","nodeType":"VariableDeclaration","scope":32160,"src":"2758:28:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_CombinedOperationType_$32126","typeString":"enum IRuleEntitlementBase.CombinedOperationType"},"typeName":{"id":32156,"nodeType":"UserDefinedTypeName","pathNode":{"id":32155,"name":"CombinedOperationType","nameLocations":["2758:21:207"],"nodeType":"IdentifierPath","referencedDeclaration":32126,"src":"2758:21:207"},"referencedDeclaration":32126,"src":"2758:21:207","typeDescriptions":{"typeIdentifier":"t_enum$_CombinedOperationType_$32126","typeString":"enum IRuleEntitlementBase.CombinedOperationType"}},"visibility":"internal"},{"constant":false,"id":32159,"mutability":"mutable","name":"index","nameLocation":"2798:5:207","nodeType":"VariableDeclaration","scope":32160,"src":"2792:11:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":32158,"name":"uint8","nodeType":"ElementaryTypeName","src":"2792:5:207","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"name":"Operation","nameLocation":"2742:9:207","scope":32187,"visibility":"public"},{"id":32173,"nodeType":"StructDefinition","src":"2875:129:207","nodes":[],"canonicalName":"IRuleEntitlementBase.RuleData","members":[{"constant":false,"id":32164,"mutability":"mutable","name":"operations","nameLocation":"2909:10:207","nodeType":"VariableDeclaration","scope":32173,"src":"2897:22:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Operation_$32160_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.Operation[]"},"typeName":{"baseType":{"id":32162,"nodeType":"UserDefinedTypeName","pathNode":{"id":32161,"name":"Operation","nameLocations":["2897:9:207"],"nodeType":"IdentifierPath","referencedDeclaration":32160,"src":"2897:9:207"},"referencedDeclaration":32160,"src":"2897:9:207","typeDescriptions":{"typeIdentifier":"t_struct$_Operation_$32160_storage_ptr","typeString":"struct IRuleEntitlementBase.Operation"}},"id":32163,"nodeType":"ArrayTypeName","src":"2897:11:207","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Operation_$32160_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.Operation[]"}},"visibility":"internal"},{"constant":false,"id":32168,"mutability":"mutable","name":"checkOperations","nameLocation":"2942:15:207","nodeType":"VariableDeclaration","scope":32173,"src":"2925:32:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_CheckOperation_$32136_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.CheckOperation[]"},"typeName":{"baseType":{"id":32166,"nodeType":"UserDefinedTypeName","pathNode":{"id":32165,"name":"CheckOperation","nameLocations":["2925:14:207"],"nodeType":"IdentifierPath","referencedDeclaration":32136,"src":"2925:14:207"},"referencedDeclaration":32136,"src":"2925:14:207","typeDescriptions":{"typeIdentifier":"t_struct$_CheckOperation_$32136_storage_ptr","typeString":"struct IRuleEntitlementBase.CheckOperation"}},"id":32167,"nodeType":"ArrayTypeName","src":"2925:16:207","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_CheckOperation_$32136_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.CheckOperation[]"}},"visibility":"internal"},{"constant":false,"id":32172,"mutability":"mutable","name":"logicalOperations","nameLocation":"2982:17:207","nodeType":"VariableDeclaration","scope":32173,"src":"2963:36:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LogicalOperation_$32154_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.LogicalOperation[]"},"typeName":{"baseType":{"id":32170,"nodeType":"UserDefinedTypeName","pathNode":{"id":32169,"name":"LogicalOperation","nameLocations":["2963:16:207"],"nodeType":"IdentifierPath","referencedDeclaration":32154,"src":"2963:16:207"},"referencedDeclaration":32154,"src":"2963:16:207","typeDescriptions":{"typeIdentifier":"t_struct$_LogicalOperation_$32154_storage_ptr","typeString":"struct IRuleEntitlementBase.LogicalOperation"}},"id":32171,"nodeType":"ArrayTypeName","src":"2963:18:207","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LogicalOperation_$32154_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.LogicalOperation[]"}},"visibility":"internal"}],"name":"RuleData","nameLocation":"2882:8:207","scope":32187,"visibility":"public"},{"id":32186,"nodeType":"StructDefinition","src":"3008:133:207","nodes":[],"canonicalName":"IRuleEntitlementBase.RuleDataV2","members":[{"constant":false,"id":32177,"mutability":"mutable","name":"operations","nameLocation":"3044:10:207","nodeType":"VariableDeclaration","scope":32186,"src":"3032:22:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Operation_$32160_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.Operation[]"},"typeName":{"baseType":{"id":32175,"nodeType":"UserDefinedTypeName","pathNode":{"id":32174,"name":"Operation","nameLocations":["3032:9:207"],"nodeType":"IdentifierPath","referencedDeclaration":32160,"src":"3032:9:207"},"referencedDeclaration":32160,"src":"3032:9:207","typeDescriptions":{"typeIdentifier":"t_struct$_Operation_$32160_storage_ptr","typeString":"struct IRuleEntitlementBase.Operation"}},"id":32176,"nodeType":"ArrayTypeName","src":"3032:11:207","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Operation_$32160_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.Operation[]"}},"visibility":"internal"},{"constant":false,"id":32181,"mutability":"mutable","name":"checkOperations","nameLocation":"3079:15:207","nodeType":"VariableDeclaration","scope":32186,"src":"3060:34:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_CheckOperationV2_$32146_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.CheckOperationV2[]"},"typeName":{"baseType":{"id":32179,"nodeType":"UserDefinedTypeName","pathNode":{"id":32178,"name":"CheckOperationV2","nameLocations":["3060:16:207"],"nodeType":"IdentifierPath","referencedDeclaration":32146,"src":"3060:16:207"},"referencedDeclaration":32146,"src":"3060:16:207","typeDescriptions":{"typeIdentifier":"t_struct$_CheckOperationV2_$32146_storage_ptr","typeString":"struct IRuleEntitlementBase.CheckOperationV2"}},"id":32180,"nodeType":"ArrayTypeName","src":"3060:18:207","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_CheckOperationV2_$32146_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.CheckOperationV2[]"}},"visibility":"internal"},{"constant":false,"id":32185,"mutability":"mutable","name":"logicalOperations","nameLocation":"3119:17:207","nodeType":"VariableDeclaration","scope":32186,"src":"3100:36:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LogicalOperation_$32154_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.LogicalOperation[]"},"typeName":{"baseType":{"id":32183,"nodeType":"UserDefinedTypeName","pathNode":{"id":32182,"name":"LogicalOperation","nameLocations":["3100:16:207"],"nodeType":"IdentifierPath","referencedDeclaration":32154,"src":"3100:16:207"},"referencedDeclaration":32154,"src":"3100:16:207","typeDescriptions":{"typeIdentifier":"t_struct$_LogicalOperation_$32154_storage_ptr","typeString":"struct IRuleEntitlementBase.LogicalOperation"}},"id":32184,"nodeType":"ArrayTypeName","src":"3100:18:207","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_LogicalOperation_$32154_storage_$dyn_storage_ptr","typeString":"struct IRuleEntitlementBase.LogicalOperation[]"}},"visibility":"internal"}],"name":"RuleDataV2","nameLocation":"3015:10:207","scope":32187,"visibility":"public"}],"abstract":false,"baseContracts":[],"canonicalName":"IRuleEntitlementBase","contractDependencies":[],"contractKind":"interface","documentation":{"id":32070,"nodeType":"StructuredDocumentation","src":"154:699:207","text":" @title RuleEntitlement\n @dev This contract manages entitlement rules based on blockchain operations.\n The contract maintains a tree-like data structure to combine various types of operations.\n The tree is implemented as a dynamic array of 'Operation' structs, and is built in post-order fashion.\n Post-order Tree Structure:\n In a post-order binary tree, children nodes must be added before their respective parent nodes.\n The 'LogicalOperation' nodes refer to their child nodes via indices in the 'operations' array.\n As new LogicalOperation nodes are added, they can only reference existing nodes in the 'operations' array,\n ensuring a valid post-order tree structure."},"fullyImplemented":true,"linearizedBaseContracts":[32187],"name":"IRuleEntitlementBase","nameLocation":"864:20:207","scope":32234,"usedErrors":[32074,32078,32082,32088,32094,32099,32105,32111],"usedEvents":[]},{"id":32210,"nodeType":"ContractDefinition","src":"3145:726:207","nodes":[{"id":32200,"nodeType":"FunctionDefinition","src":"3549:93:207","nodes":[],"documentation":{"id":32192,"nodeType":"StructuredDocumentation","src":"3392:154:207","text":" @notice Encodes the RuleData struct into bytes\n @param data RuleData struct to encode\n @return Encoded bytes of the RuleData struct"},"functionSelector":"27bbccbc","implemented":false,"kind":"function","modifiers":[],"name":"encodeRuleData","nameLocation":"3558:14:207","parameters":{"id":32196,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32195,"mutability":"mutable","name":"data","nameLocation":"3596:4:207","nodeType":"VariableDeclaration","scope":32200,"src":"3578:22:207","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RuleDataV2_$32186_memory_ptr","typeString":"struct IRuleEntitlementBase.RuleDataV2"},"typeName":{"id":32194,"nodeType":"UserDefinedTypeName","pathNode":{"id":32193,"name":"RuleDataV2","nameLocations":["3578:10:207"],"nodeType":"IdentifierPath","referencedDeclaration":32186,"src":"3578:10:207"},"referencedDeclaration":32186,"src":"3578:10:207","typeDescriptions":{"typeIdentifier":"t_struct$_RuleDataV2_$32186_storage_ptr","typeString":"struct IRuleEntitlementBase.RuleDataV2"}},"visibility":"internal"}],"src":"3572:32:207"},"returnParameters":{"id":32199,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32198,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":32200,"src":"3628:12:207","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":32197,"name":"bytes","nodeType":"ElementaryTypeName","src":"3628:5:207","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3627:14:207"},"scope":32210,"stateMutability":"pure","virtual":false,"visibility":"external"},{"id":32209,"nodeType":"FunctionDefinition","src":"3775:94:207","nodes":[],"documentation":{"id":32201,"nodeType":"StructuredDocumentation","src":"3646:126:207","text":" @notice Decodes the RuleDataV2 struct from bytes\n @param roleId Role ID\n @return data RuleDataV2 struct"},"functionSelector":"68ab7dd6","implemented":false,"kind":"function","modifiers":[],"name":"getRuleDataV2","nameLocation":"3784:13:207","parameters":{"id":32204,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32203,"mutability":"mutable","name":"roleId","nameLocation":"3811:6:207","nodeType":"VariableDeclaration","scope":32209,"src":"3803:14:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":32202,"name":"uint256","nodeType":"ElementaryTypeName","src":"3803:7:207","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3797:24:207"},"returnParameters":{"id":32208,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32207,"mutability":"mutable","name":"data","nameLocation":"3863:4:207","nodeType":"VariableDeclaration","scope":32209,"src":"3845:22:207","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RuleDataV2_$32186_memory_ptr","typeString":"struct IRuleEntitlementBase.RuleDataV2"},"typeName":{"id":32206,"nodeType":"UserDefinedTypeName","pathNode":{"id":32205,"name":"RuleDataV2","nameLocations":["3845:10:207"],"nodeType":"IdentifierPath","referencedDeclaration":32186,"src":"3845:10:207"},"referencedDeclaration":32186,"src":"3845:10:207","typeDescriptions":{"typeIdentifier":"t_struct$_RuleDataV2_$32186_storage_ptr","typeString":"struct IRuleEntitlementBase.RuleDataV2"}},"visibility":"internal"}],"src":"3844:24:207"},"scope":32210,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":32188,"name":"IRuleEntitlementBase","nameLocations":["3177:20:207"],"nodeType":"IdentifierPath","referencedDeclaration":32187,"src":"3177:20:207"},"id":32189,"nodeType":"InheritanceSpecifier","src":"3177:20:207"},{"baseName":{"id":32190,"name":"IEntitlement","nameLocations":["3199:12:207"],"nodeType":"IdentifierPath","referencedDeclaration":32065,"src":"3199:12:207"},"id":32191,"nodeType":"InheritanceSpecifier","src":"3199:12:207"}],"canonicalName":"IRuleEntitlementV2","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[32210,32065,31997,32187],"name":"IRuleEntitlementV2","nameLocation":"3155:18:207","scope":32234,"usedErrors":[31990,31992,31994,31996,32074,32078,32082,32088,32094,32099,32105,32111],"usedEvents":[]},{"id":32233,"nodeType":"ContractDefinition","src":"3873:714:207","nodes":[{"id":32223,"nodeType":"FunctionDefinition","src":"4275:91:207","nodes":[],"documentation":{"id":32215,"nodeType":"StructuredDocumentation","src":"4118:154:207","text":" @notice Encodes the RuleData struct into bytes\n @param data RuleData struct to encode\n @return Encoded bytes of the RuleData struct"},"functionSelector":"5d115072","implemented":false,"kind":"function","modifiers":[],"name":"encodeRuleData","nameLocation":"4284:14:207","parameters":{"id":32219,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32218,"mutability":"mutable","name":"data","nameLocation":"4320:4:207","nodeType":"VariableDeclaration","scope":32223,"src":"4304:20:207","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RuleData_$32173_memory_ptr","typeString":"struct IRuleEntitlementBase.RuleData"},"typeName":{"id":32217,"nodeType":"UserDefinedTypeName","pathNode":{"id":32216,"name":"RuleData","nameLocations":["4304:8:207"],"nodeType":"IdentifierPath","referencedDeclaration":32173,"src":"4304:8:207"},"referencedDeclaration":32173,"src":"4304:8:207","typeDescriptions":{"typeIdentifier":"t_struct$_RuleData_$32173_storage_ptr","typeString":"struct IRuleEntitlementBase.RuleData"}},"visibility":"internal"}],"src":"4298:30:207"},"returnParameters":{"id":32222,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32221,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":32223,"src":"4352:12:207","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":32220,"name":"bytes","nodeType":"ElementaryTypeName","src":"4352:5:207","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"4351:14:207"},"scope":32233,"stateMutability":"pure","virtual":false,"visibility":"external"},{"id":32232,"nodeType":"FunctionDefinition","src":"4495:90:207","nodes":[],"documentation":{"id":32224,"nodeType":"StructuredDocumentation","src":"4370:122:207","text":" @notice Decodes the RuleData struct from bytes\n @param roleId Role ID\n @return data RuleData struct"},"functionSelector":"069a3ee9","implemented":false,"kind":"function","modifiers":[],"name":"getRuleData","nameLocation":"4504:11:207","parameters":{"id":32227,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32226,"mutability":"mutable","name":"roleId","nameLocation":"4529:6:207","nodeType":"VariableDeclaration","scope":32232,"src":"4521:14:207","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":32225,"name":"uint256","nodeType":"ElementaryTypeName","src":"4521:7:207","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4515:24:207"},"returnParameters":{"id":32231,"nodeType":"ParameterList","parameters":[{"constant":false,"id":32230,"mutability":"mutable","name":"data","nameLocation":"4579:4:207","nodeType":"VariableDeclaration","scope":32232,"src":"4563:20:207","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_RuleData_$32173_memory_ptr","typeString":"struct IRuleEntitlementBase.RuleData"},"typeName":{"id":32229,"nodeType":"UserDefinedTypeName","pathNode":{"id":32228,"name":"RuleData","nameLocations":["4563:8:207"],"nodeType":"IdentifierPath","referencedDeclaration":32173,"src":"4563:8:207"},"referencedDeclaration":32173,"src":"4563:8:207","typeDescriptions":{"typeIdentifier":"t_struct$_RuleData_$32173_storage_ptr","typeString":"struct IRuleEntitlementBase.RuleData"}},"visibility":"internal"}],"src":"4562:22:207"},"scope":32233,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":32211,"name":"IRuleEntitlementBase","nameLocations":["3903:20:207"],"nodeType":"IdentifierPath","referencedDeclaration":32187,"src":"3903:20:207"},"id":32212,"nodeType":"InheritanceSpecifier","src":"3903:20:207"},{"baseName":{"id":32213,"name":"IEntitlement","nameLocations":["3925:12:207"],"nodeType":"IdentifierPath","referencedDeclaration":32065,"src":"3925:12:207"},"id":32214,"nodeType":"InheritanceSpecifier","src":"3925:12:207"}],"canonicalName":"IRuleEntitlement","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[32233,32065,31997,32187],"name":"IRuleEntitlement","nameLocation":"3883:16:207","scope":32234,"usedErrors":[31990,31992,31994,31996,32074,32078,32082,32088,32094,32099,32105,32111],"usedEvents":[]}],"license":"MIT"},"id":207}