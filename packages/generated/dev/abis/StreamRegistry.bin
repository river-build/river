608060405234801561001057600080fd5b5061220f806100206000396000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c80639ee86d381161008c578063ca78c41a11610066578063ca78c41a146101e8578063d7a3158a14610209578063ee885b121461021c578063ff3a14ab1461022f57600080fd5b80639ee86d38146101ac578063c0f22084146101bf578063c87d1324146101d557600080fd5b80633c2544d1116100c85780633c2544d11461014057806368b454df146101625780636b883c391461018257806386789fc61461019757600080fd5b80631290abe8146100ef57806332705ac4146101185780633bd84c0c14610138575b600080fd5b6101026100fd3660046119ee565b610242565b60405161010f9190611a98565b60405180910390f35b61012b610126366004611ac7565b61036d565b60405161010f9190611b63565b61012b61061d565b61015361014e3660046119ee565b61078e565b60405161010f93929190611bbc565b6101756101703660046119ee565b61095f565b60405161010f9190611bf1565b610195610190366004611cb9565b610a86565b005b61019f610ceb565b60405161010f9190611d9c565b6101956101ba366004611de0565b610cfc565b6101c7610eb9565b60405190815260200161010f565b6101c76101e3366004611ac7565b610ec4565b6101fb6101f6366004611e0c565b610f6c565b60405161010f929190611e2e565b610195610217366004611e79565b611165565b61019561022a366004611de0565b6112f0565b61019561023d366004611ec9565b61153c565b6040805160a081018252600080825260208201819052918101829052606080820183905260808201529061027690836117a3565b6102ba5760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f3d565b60405180910390fd5b600082815260026020818152604092839020835160a0810185528154815260018201546001600160401b0380821683860152600160401b8204811683880152600160801b909104166060820152928101805485518185028101850190965280865293949193608086019383018282801561035d57602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831161033f575b5050505050815250509050919050565b6060600061037a816117c0565b6001600160401b0381111561039157610391611c04565b6040519080825280602002602001820160405280156103ba578160200160208202803683370190505b5090506000805b6103cb60006117c0565b8110156104805760006103de81836117ca565b60008181526002602052604081209192505b600282015481101561047257876001600160a01b031682600201828154811061041b5761041b611f50565b6000918252602090912001546001600160a01b03160361046a5782868661044181611f7c565b975063ffffffff168151811061045957610459611f50565b602002602001018181525050610472565b6001016103f0565b5050508060010190506103c1565b5060008163ffffffff166001600160401b038111156104a1576104a1611c04565b6040519080825280602002602001820160405280156104da57816020015b6104c76118ed565b8152602001906001900390816104bf5790505b50905060005b8263ffffffff1681101561061457604051806040016040528085838151811061050b5761050b611f50565b602002602001015181526020016000600201600087858151811061053157610531611f50565b6020908102919091018101518252818101929092526040908101600020815160a0810183528154815260018201546001600160401b0380821683870152600160401b8204811683860152600160801b9091041660608201526002820180548451818702810187019095528085529194929360808601939092908301828280156105e357602002820191906000526020600020905b81546001600160a01b031681526001909101906020018083116105c5575b50505050508152505081525082828151811061060157610601611f50565b60209081029190910101526001016104e0565b50949350505050565b6060600061062a816117c0565b6001600160401b0381111561064157610641611c04565b60405190808252806020026020018201604052801561067a57816020015b6106676118ed565b81526020019060019003908161065f5790505b50905060005b61068a60006117c0565b81101561078857600061069d81836117ca565b60408051808201825282815260008381526002602081815291849020845160a0810186528154815260018201546001600160401b0380821683870152600160401b8204811683890152600160801b909104166060820152918101805486518186028101860190975280875296975093958387019592949193608086019392919083018282801561075657602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610738575b50505050508152505081525083838151811061077457610774611f50565b602090810291909101015250600101610680565b50919050565b6040805160a0810182526000808252602082018190529181018290526060808201839052608082018190529091906107c682856117a3565b6108015760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f3d565b600084815260026020818152604080842060048352818520546003845294829020825160a0810184528254815260018301546001600160401b0380821683880152600160401b8204811683870152600160801b909104166060820152948201805484518187028101870190955280855292969591949193879360808601939192918301828280156108bb57602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831161089d575b50505050508152505092508080546108d290611f9f565b80601f01602080910402602001604051908101604052809291908181526020018280546108fe90611f9f565b801561094b5780601f106109205761010080835404028352916020019161094b565b820191906000526020600020905b81548152906001019060200180831161092e57829003601f168201915b505050505090509250925092509193909250565b6109676118ed565b61097160006117c0565b82106109ae5760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f3d565b60006109ba81846117ca565b60408051808201825282815260008381526002602081815291849020845160a0810186528154815260018201546001600160401b0380821683870152600160401b8204811683890152600160801b9091041660608201529181018054865181860281018601909752808752969750939583870195929491936080860193929190830182828015610a7357602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610a55575b5050509190925250505090529392505050565b336000818152600760205260409020600201546001600160a01b0316610ae257604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f3d565b610aed6000866117a3565b15610b2e57604080518082018252600e81526d414c52454144595f45584953545360901b6020820152905162461bcd60e51b81526102b19190600401611f3d565b60005b8451811015610bb257610b6a858281518110610b4f57610b4f611f50565b602002602001015160006005016117d690919063ffffffff16565b610baa57604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f3d565b600101610b31565b506040805160a081018252848152600060208201819052918101829052606081018290526080810186905290610be890876117f8565b5060008681526002602081815260409283902084518155818501516001820180549587015160608801516001600160401b03908116600160801b0267ffffffffffffffff60801b19928216600160401b026fffffffffffffffffffffffffffffffff19909916919094161796909617959095161790935560808401518051859493610c7893908501920190611937565b5050506000868152600360205260409020610c938482612024565b5060008681526004602052604090819020859055517f55ef7efc60ef99743e54209752c9a8e047e013917ec91572db75875069dd65bb90610cdb9088908890889088906120e3565b60405180910390a1505050505050565b6060610cf76000611804565b905090565b81610d086000826117a3565b610d435760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f3d565b6001600160a01b03808316600090815260076020526040902060020154839116610da357604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f3d565b6000848152600260205260408120905b6002820154811015610e3c57846001600160a01b0316826002018281548110610dde57610dde611f50565b6000918252602090912001546001600160a01b031603610e3457604080518082018252600e81526d414c52454144595f45584953545360901b6020820152905162461bcd60e51b81526102b19190600401611f3d565b600101610db3565b5060028101805460018082018355600092835260209283902090910180546001600160a01b0319166001600160a01b03881690811790915560408051898152938401919091528201527faaa473c28a5fe04b6a7ecd795826e462f9d0c23f00ef9f51ec02fa6ea418806f9060600160405180910390a15050505050565b6000610cf7816117c0565b600080805b610ed360006117c0565b811015610f65576000610ee681836117ca565b60008181526002602052604081209192505b6002820154811015610f5757866001600160a01b0316826002018281548110610f2357610f23611f50565b6000918252602090912001546001600160a01b031603610f4f5784610f4781612156565b955050610f57565b600101610ef8565b505050806001019050610ec9565b5092915050565b60606000828410604051806040016040528060078152602001664241445f41524760c81b81525090610fb15760405162461bcd60e51b81526004016102b19190611f3d565b506000610fbe858561216f565b6001600160401b03811115610fd557610fd5611c04565b60405190808252806020026020018201604052801561100e57816020015b610ffb6118ed565b815260200190600190039081610ff35790505b50905060005b61101e60006117c0565b6110288288612182565b10801561103d57508461103b8288612182565b105b1561114d5760006110596110518389612182565b6000906117ca565b60408051808201825282815260008381526002602081815291849020845160a0810186528154815260018201546001600160401b0380821683870152600160401b8204811683890152600160801b909104166060820152918101805486518186028101860190975280875296975093958387019592949193608086019392919083018282801561111257602002820191906000526020600020905b81546001600160a01b031681526001909101906020018083116110f4575b50505050508152505081525083838151811061113057611130611f50565b6020026020010181905250508061114690612156565b9050611014565b508061115960006117c0565b90969410159450505050565b336000818152600760205260409020600201546001600160a01b03166111c157604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f3d565b6111cc6000876117a3565b6112075760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f3d565b600086815260026020526040902084815560018101805467ffffffffffffffff19166001600160401b038616179055821561126f576001818101805467ffffffffffffffff60801b198116600160801b918290046001600160401b0316909317029190911790555b836001600160401b03166001036112975760008781526003602052604081206112979161199c565b60408051888152602081018790526001600160401b03861681830152841515606082015290517fccc26bbb6dd655ea0bb8a40a3c30e35c6bdf42f8faf0d71bbea897af768cda8b9181900360800190a150505050505050565b816112fc6000826117a3565b6113375760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f3d565b6001600160a01b0380831660009081526007602052604090206002015483911661139757604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f3d565b600084815260026020526040812090805b60028301548110156114b157856001600160a01b03168360020182815481106113d3576113d3611f50565b6000918252602090912001546001600160a01b0316036114a9576002830180546113ff9060019061216f565b8154811061140f5761140f611f50565b6000918252602090912001546002840180546001600160a01b03909216918390811061143d5761143d611f50565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b031602179055508260020180548061147e5761147e612195565b600082815260209020810160001990810180546001600160a01b0319169055019055600191506114b1565b6001016113a8565b50806114f357604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f3d565b604080518781526001600160a01b03871660208201526000918101919091527faaa473c28a5fe04b6a7ecd795826e462f9d0c23f00ef9f51ec02fa6ea418806f90606001610cdb565b336000818152600760205260409020600201546001600160a01b031661159857604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f3d565b60005b8281101561179d57368484838181106115b6576115b6611f50565b60a0029190910191506115cd9050600082356117a3565b611645577f75460fe319331413a18a82d99b07735cec53fa0c4061ada38c2141e331082afa8135604083013561160960808501606086016121ab565b60408051808201825260098152681393d517d193d5539160ba1b6020820152905161163794939291906121c6565b60405180910390a150611795565b80356000908152600260205260409081902090820135815561166d60808301606084016121ab565b60018201805467ffffffffffffffff19166001600160401b03929092169190911790556116a060a08301608084016121f4565b156116d8576001818101805467ffffffffffffffff60801b198116600160801b918290046001600160401b0316909317029190911790555b6116e860808301606084016121ab565b6001600160401b031660010361171157813560009081526003602052604081206117119161199c565b7fccc26bbb6dd655ea0bb8a40a3c30e35c6bdf42f8faf0d71bbea897af768cda8b8235604084013561174960808601606087016121ab565b61175960a08701608088016121f4565b60405161178a949392919093845260208401929092526001600160401b031660408301521515606082015260800190565b60405180910390a150505b60010161159b565b50505050565b600081815260018301602052604081205415155b90505b92915050565b60006117ba825490565b60006117b78383611818565b6001600160a01b038116600090815260018301602052604081205415156117b7565b60006117b78383611842565b6060600061181183611891565b9392505050565b600082600001828154811061182f5761182f611f50565b9060005260206000200154905092915050565b6000818152600183016020526040812054611889575081546001818101845560008481526020808220909301849055845484825282860190935260409020919091556117ba565b5060006117ba565b6060816000018054806020026020016040519081016040528092919081815260200182805480156118e157602002820191906000526020600020905b8154815260200190600101908083116118cd575b50505050509050919050565b6040805180820190915260008152602081016119326040805160a081018252600080825260208201819052918101829052606080820192909252608081019190915290565b905290565b82805482825590600052602060002090810192821561198c579160200282015b8281111561198c57825182546001600160a01b0319166001600160a01b03909116178255602090920191600190910190611957565b506119989291506119d9565b5090565b5080546119a890611f9f565b6000825580601f106119b8575050565b601f0160209004906000526020600020908101906119d691906119d9565b50565b5b8082111561199857600081556001016119da565b600060208284031215611a0057600080fd5b5035919050565b600060a08301825184526020808401516001600160401b0380821660208801528060408701511660408801528060608701511660608801525050608084015160a0608087015282815180855260c088019150602083019450600092505b80831015611a8d5784516001600160a01b03168252938301936001929092019190830190611a64565b509695505050505050565b6020815260006117b76020830184611a07565b80356001600160a01b0381168114611ac257600080fd5b919050565b600060208284031215611ad957600080fd5b6117b782611aab565b805182526000602082015160406020850152611b016040850182611a07565b949350505050565b60008282518085526020808601955060208260051b8401016020860160005b84811015611b5657601f19868403018952611b44838351611ae2565b98840198925090830190600101611b28565b5090979650505050505050565b6020815260006117b76020830184611b09565b6000815180845260005b81811015611b9c57602081850181015186830182015201611b80565b506000602082860101526020601f19601f83011685010191505092915050565b606081526000611bcf6060830186611a07565b8460208401528281036040840152611be78185611b76565b9695505050505050565b6020815260006117b76020830184611ae2565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715611c4257611c42611c04565b604052919050565b600082601f830112611c5b57600080fd5b81356001600160401b03811115611c7457611c74611c04565b611c87601f8201601f1916602001611c1a565b818152846020838601011115611c9c57600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215611ccf57600080fd5b843593506020808601356001600160401b0380821115611cee57600080fd5b818801915088601f830112611d0257600080fd5b813581811115611d1457611d14611c04565b8060051b611d23858201611c1a565b918252838101850191858101908c841115611d3d57600080fd5b948601945b83861015611d6257611d5386611aab565b82529486019490860190611d42565b9850505050604088013594506060880135925080831115611d8257600080fd5b5050611d9087828801611c4a565b91505092959194509250565b6020808252825182820181905260009190848201906040850190845b81811015611dd457835183529284019291840191600101611db8565b50909695505050505050565b60008060408385031215611df357600080fd5b82359150611e0360208401611aab565b90509250929050565b60008060408385031215611e1f57600080fd5b50508035926020909101359150565b604081526000611e416040830185611b09565b905082151560208301529392505050565b80356001600160401b0381168114611ac257600080fd5b80358015158114611ac257600080fd5b600080600080600060a08688031215611e9157600080fd5b853594506020860135935060408601359250611eaf60608701611e52565b9150611ebd60808701611e69565b90509295509295909350565b60008060208385031215611edc57600080fd5b82356001600160401b0380821115611ef357600080fd5b818501915085601f830112611f0757600080fd5b813581811115611f1657600080fd5b86602060a083028501011115611f2b57600080fd5b60209290920196919550909350505050565b6020815260006117b76020830184611b76565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600063ffffffff808316818103611f9557611f95611f66565b6001019392505050565b600181811c90821680611fb357607f821691505b60208210810361078857634e487b7160e01b600052602260045260246000fd5b601f82111561201f576000816000526020600020601f850160051c81016020861015611ffc5750805b601f850160051c820191505b8181101561201b57828155600101612008565b5050505b505050565b81516001600160401b0381111561203d5761203d611c04565b6120518161204b8454611f9f565b84611fd3565b602080601f831160018114612086576000841561206e5750858301515b600019600386901b1c1916600185901b17855561201b565b600085815260208120601f198616915b828110156120b557888601518255948401946001909101908401612096565b50858210156120d35787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006080820186835260206080602085015281875180845260a08601915060208901935060005b8181101561212f5784516001600160a01b03168352938301939183019160010161210a565b505086604086015284810360608601526121498187611b76565b9998505050505050505050565b60006001820161216857612168611f66565b5060010190565b818103818111156117ba576117ba611f66565b808201808211156117ba576117ba611f66565b634e487b7160e01b600052603160045260246000fd5b6000602082840312156121bd57600080fd5b6117b782611e52565b8481528360208201526001600160401b0383166040820152608060608201526000611be76080830184611b76565b60006020828403121561220657600080fd5b6117b782611e6956