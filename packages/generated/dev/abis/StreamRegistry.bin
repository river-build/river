608060405234801561001057600080fd5b50612218806100206000396000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c80639ee86d381161008c578063ca78c41a11610066578063ca78c41a146101e8578063d7a3158a14610209578063ee885b121461021c578063ff3a14ab1461022f57600080fd5b80639ee86d38146101ac578063c0f22084146101bf578063c87d1324146101d557600080fd5b80633c2544d1116100c85780633c2544d11461014057806368b454df146101625780636b883c391461018257806386789fc61461019757600080fd5b80631290abe8146100ef57806332705ac4146101185780633bd84c0c14610138575b600080fd5b6101026100fd3660046119f1565b610242565b60405161010f9190611a9b565b60405180910390f35b61012b610126366004611aca565b61036d565b60405161010f9190611b66565b61012b61061f565b61015361014e3660046119f1565b61078d565b60405161010f93929190611bbf565b6101756101703660046119f1565b61095e565b60405161010f9190611bf4565b610195610190366004611cbc565b610a8a565b005b61019f610cf1565b60405161010f9190611d9f565b6101956101ba366004611de3565b610d02565b6101c7610ec3565b60405190815260200161010f565b6101c76101e3366004611aca565b610ece565b6101fb6101f6366004611e0f565b610f7c565b60405161010f929190611e31565b610195610217366004611e7c565b61116d565b61019561022a366004611de3565b6112f0565b61019561023d366004611ecc565b61153d565b6040805160a081018252600080825260208201819052918101829052606080820183905260808201529061027690836117a6565b6102ba5760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f40565b60405180910390fd5b600082815260026020818152604092839020835160a0810185528154815260018201546001600160401b0380821683860152600160401b8204811683880152600160801b909104166060820152928101805485518185028101850190965280865293949193608086019383018282801561035d57602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831161033f575b5050505050815250509050919050565b6060600061037a816117c3565b90506000816001600160401b0381111561039657610396611c07565b6040519080825280602002602001820160405280156103bf578160200160208202803683370190505b5090506000805b838110156104815760006103da81836117cd565b600081815260026020819052604082209081015492935091905b8181101561047257896001600160a01b031683600201828154811061041b5761041b611f53565b6000918252602090912001546001600160a01b03160361046a5783878761044181611f7f565b985063ffffffff168151811061045957610459611f53565b602002602001018181525050610472565b6001016103f4565b505050508060010190506103c6565b5060008163ffffffff166001600160401b038111156104a2576104a2611c07565b6040519080825280602002602001820160405280156104db57816020015b6104c86118f0565b8152602001906001900390816104c05790505b50905060005b8263ffffffff1681101561061557604051806040016040528085838151811061050c5761050c611f53565b602002602001015181526020016000600201600087858151811061053257610532611f53565b6020908102919091018101518252818101929092526040908101600020815160a0810183528154815260018201546001600160401b0380821683870152600160401b8204811683860152600160801b9091041660608201526002820180548451818702810187019095528085529194929360808601939092908301828280156105e457602002820191906000526020600020905b81546001600160a01b031681526001909101906020018083116105c6575b50505050508152505081525082828151811061060257610602611f53565b60209081029190910101526001016104e1565b5095945050505050565b6060600061062c816117c3565b90506000816001600160401b0381111561064857610648611c07565b60405190808252806020026020018201604052801561068157816020015b61066e6118f0565b8152602001906001900390816106665790505b50905060005b8281101561078657600061069b81836117cd565b60408051808201825282815260008381526002602081815291849020845160a0810186528154815260018201546001600160401b0380821683870152600160401b8204811683890152600160801b909104166060820152918101805486518186028101860190975280875296975093958387019592949193608086019392919083018282801561075457602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610736575b50505050508152505081525083838151811061077257610772611f53565b602090810291909101015250600101610687565b5092915050565b6040805160a0810182526000808252602082018190529181018290526060808201839052608082018190529091906107c582856117a6565b6108005760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f40565b600084815260026020818152604080842060048352818520546003845294829020825160a0810184528254815260018301546001600160401b0380821683880152600160401b8204811683870152600160801b909104166060820152948201805484518187028101870190955280855292969591949193879360808601939192918301828280156108ba57602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831161089c575b50505050508152505092508080546108d190611fa2565b80601f01602080910402602001604051908101604052809291908181526020018280546108fd90611fa2565b801561094a5780601f1061091f5761010080835404028352916020019161094a565b820191906000526020600020905b81548152906001019060200180831161092d57829003601f168201915b505050505090509250925092509193909250565b6109666118f0565b6000610971816117c3565b90508083106109b15760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f40565b60006109bd81856117cd565b60408051808201825282815260008381526002602081815291849020845160a0810186528154815260018201546001600160401b0380821683870152600160401b8204811683890152600160801b9091041660608201529181018054865181860281018601909752808752969750939583870195929491936080860193929190830182828015610a7657602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610a58575b505050919092525050509052949350505050565b336000818152600760205260409020600201546001600160a01b0316610ae657604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f40565b610af16000866117a6565b15610b3257604080518082018252600e81526d414c52454144595f45584953545360901b6020820152905162461bcd60e51b81526102b19190600401611f40565b835160005b81811015610bb757610b6f868281518110610b5457610b54611f53565b602002602001015160006005016117d990919063ffffffff16565b610baf57604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f40565b600101610b37565b506040805160a081018252858152600060208201819052918101829052606081018290526080810187905290610bed90886117fb565b5060008781526002602081815260409283902084518155818501516001820180549587015160608801516001600160401b03908116600160801b0267ffffffffffffffff60801b19928216600160401b026fffffffffffffffffffffffffffffffff19909916919094161796909617959095161790935560808401518051859493610c7d9390850192019061193a565b5050506000878152600360205260409020610c98858261202d565b5060008781526004602052604090819020869055517f55ef7efc60ef99743e54209752c9a8e047e013917ec91572db75875069dd65bb90610ce09089908990899089906120ec565b60405180910390a150505050505050565b6060610cfd6000611807565b905090565b81610d0e6000826117a6565b610d495760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f40565b6001600160a01b03808316600090815260076020526040902060020154839116610da957604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f40565b600084815260026020819052604082209081015490915b81811015610e4557856001600160a01b0316836002018281548110610de757610de7611f53565b6000918252602090912001546001600160a01b031603610e3d57604080518082018252600e81526d414c52454144595f45584953545360901b6020820152905162461bcd60e51b81526102b19190600401611f40565b600101610dc0565b5060028201805460018082018355600092835260209283902090910180546001600160a01b0319166001600160a01b038916908117909155604080518a8152938401919091528201527faaa473c28a5fe04b6a7ecd795826e462f9d0c23f00ef9f51ec02fa6ea418806f9060600160405180910390a1505050505050565b6000610cfd816117c3565b60008080610edb816117c3565b905060005b81811015610f73576000610ef481836117cd565b60008181526002602052604081209192505b6002820154811015610f6557876001600160a01b0316826002018281548110610f3157610f31611f53565b6000918252602090912001546001600160a01b031603610f5d5785610f558161215f565b965050610f65565b600101610f06565b505050806001019050610ee0565b50909392505050565b60606000828410604051806040016040528060078152602001664241445f41524760c81b81525090610fc15760405162461bcd60e51b81526004016102b19190611f40565b506000610fce8585612178565b6001600160401b03811115610fe557610fe5611c07565b60405190808252806020026020018201604052801561101e57816020015b61100b6118f0565b8152602001906001900390816110035790505b509050600061102c816117c3565b905060005b8161103c828961218b565b10801561105157508561104f828961218b565b105b1561116157600061106d611065838a61218b565b6000906117cd565b60408051808201825282815260008381526002602081815291849020845160a0810186528154815260018201546001600160401b0380821683870152600160401b8204811683890152600160801b909104166060820152918101805486518186028101860190975280875296975093958387019592949193608086019392919083018282801561112657602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311611108575b50505050508152505081525084838151811061114457611144611f53565b6020026020010181905250508061115a9061215f565b9050611031565b50909593101593505050565b336000818152600760205260409020600201546001600160a01b03166111c957604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f40565b6111d46000876117a6565b61120f5760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f40565b600086815260026020526040902084815560018101805467ffffffffffffffff19166001600160401b0386161790558215611277576001818101805467ffffffffffffffff60801b198116600160801b918290046001600160401b0316909317029190911790555b836001600160401b031660010361129f57600087815260036020526040812061129f9161199f565b60408051888152602081018790526001600160401b0386169181019190915283151560608201527fccc26bbb6dd655ea0bb8a40a3c30e35c6bdf42f8faf0d71bbea897af768cda8b90608001610ce0565b816112fc6000826117a6565b6113375760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102b19190600401611f40565b6001600160a01b0380831660009081526007602052604090206002015483911661139757604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f40565b6000848152600260208190526040822090810154909190815b818110156114b257866001600160a01b03168460020182815481106113d7576113d7611f53565b6000918252602090912001546001600160a01b0316036114aa5760028401611400600184612178565b8154811061141057611410611f53565b6000918252602090912001546002850180546001600160a01b03909216918390811061143e5761143e611f53565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b031602179055508360020180548061147f5761147f61219e565b600082815260209020810160001990810180546001600160a01b0319169055019055600192506114b2565b6001016113b0565b50816114f457604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f40565b604080518881526001600160a01b03881660208201526000918101919091527faaa473c28a5fe04b6a7ecd795826e462f9d0c23f00ef9f51ec02fa6ea418806f90606001610ce0565b336000818152600760205260409020600201546001600160a01b031661159957604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102b19190600401611f40565b8160005b8181101561179f57368585838181106115b8576115b8611f53565b60a0029190910191506115cf9050600082356117a6565b611647577f75460fe319331413a18a82d99b07735cec53fa0c4061ada38c2141e331082afa8135604083013561160b60808501606086016121b4565b60408051808201825260098152681393d517d193d5539160ba1b6020820152905161163994939291906121cf565b60405180910390a150611797565b80356000908152600260205260409081902090820135815561166f60808301606084016121b4565b60018201805467ffffffffffffffff19166001600160401b03929092169190911790556116a260a08301608084016121fd565b156116da576001818101805467ffffffffffffffff60801b198116600160801b918290046001600160401b0316909317029190911790555b6116ea60808301606084016121b4565b6001600160401b031660010361171357813560009081526003602052604081206117139161199f565b7fccc26bbb6dd655ea0bb8a40a3c30e35c6bdf42f8faf0d71bbea897af768cda8b8235604084013561174b60808601606087016121b4565b61175b60a08701608088016121fd565b60405161178c949392919093845260208401929092526001600160401b031660408301521515606082015260800190565b60405180910390a150505b60010161159d565b5050505050565b600081815260018301602052604081205415155b90505b92915050565b60006117bd825490565b60006117ba838361181b565b6001600160a01b038116600090815260018301602052604081205415156117ba565b60006117ba8383611845565b6060600061181483611894565b9392505050565b600082600001828154811061183257611832611f53565b9060005260206000200154905092915050565b600081815260018301602052604081205461188c575081546001818101845560008481526020808220909301849055845484825282860190935260409020919091556117bd565b5060006117bd565b6060816000018054806020026020016040519081016040528092919081815260200182805480156118e457602002820191906000526020600020905b8154815260200190600101908083116118d0575b50505050509050919050565b6040805180820190915260008152602081016119356040805160a081018252600080825260208201819052918101829052606080820192909252608081019190915290565b905290565b82805482825590600052602060002090810192821561198f579160200282015b8281111561198f57825182546001600160a01b0319166001600160a01b0390911617825560209092019160019091019061195a565b5061199b9291506119dc565b5090565b5080546119ab90611fa2565b6000825580601f106119bb575050565b601f0160209004906000526020600020908101906119d991906119dc565b50565b5b8082111561199b57600081556001016119dd565b600060208284031215611a0357600080fd5b5035919050565b600060a08301825184526020808401516001600160401b0380821660208801528060408701511660408801528060608701511660608801525050608084015160a0608087015282815180855260c088019150602083019450600092505b80831015611a905784516001600160a01b03168252938301936001929092019190830190611a67565b509695505050505050565b6020815260006117ba6020830184611a0a565b80356001600160a01b0381168114611ac557600080fd5b919050565b600060208284031215611adc57600080fd5b6117ba82611aae565b805182526000602082015160406020850152611b046040850182611a0a565b949350505050565b60008282518085526020808601955060208260051b8401016020860160005b84811015611b5957601f19868403018952611b47838351611ae5565b98840198925090830190600101611b2b565b5090979650505050505050565b6020815260006117ba6020830184611b0c565b6000815180845260005b81811015611b9f57602081850181015186830182015201611b83565b506000602082860101526020601f19601f83011685010191505092915050565b606081526000611bd26060830186611a0a565b8460208401528281036040840152611bea8185611b79565b9695505050505050565b6020815260006117ba6020830184611ae5565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715611c4557611c45611c07565b604052919050565b600082601f830112611c5e57600080fd5b81356001600160401b03811115611c7757611c77611c07565b611c8a601f8201601f1916602001611c1d565b818152846020838601011115611c9f57600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215611cd257600080fd5b843593506020808601356001600160401b0380821115611cf157600080fd5b818801915088601f830112611d0557600080fd5b813581811115611d1757611d17611c07565b8060051b611d26858201611c1d565b918252838101850191858101908c841115611d4057600080fd5b948601945b83861015611d6557611d5686611aae565b82529486019490860190611d45565b9850505050604088013594506060880135925080831115611d8557600080fd5b5050611d9387828801611c4d565b91505092959194509250565b6020808252825182820181905260009190848201906040850190845b81811015611dd757835183529284019291840191600101611dbb565b50909695505050505050565b60008060408385031215611df657600080fd5b82359150611e0660208401611aae565b90509250929050565b60008060408385031215611e2257600080fd5b50508035926020909101359150565b604081526000611e446040830185611b0c565b905082151560208301529392505050565b80356001600160401b0381168114611ac557600080fd5b80358015158114611ac557600080fd5b600080600080600060a08688031215611e9457600080fd5b853594506020860135935060408601359250611eb260608701611e55565b9150611ec060808701611e6c565b90509295509295909350565b60008060208385031215611edf57600080fd5b82356001600160401b0380821115611ef657600080fd5b818501915085601f830112611f0a57600080fd5b813581811115611f1957600080fd5b86602060a083028501011115611f2e57600080fd5b60209290920196919550909350505050565b6020815260006117ba6020830184611b79565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600063ffffffff808316818103611f9857611f98611f69565b6001019392505050565b600181811c90821680611fb657607f821691505b602082108103611fd657634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115612028576000816000526020600020601f850160051c810160208610156120055750805b601f850160051c820191505b8181101561202457828155600101612011565b5050505b505050565b81516001600160401b0381111561204657612046611c07565b61205a816120548454611fa2565b84611fdc565b602080601f83116001811461208f57600084156120775750858301515b600019600386901b1c1916600185901b178555612024565b600085815260208120601f198616915b828110156120be5788860151825594840194600190910190840161209f565b50858210156120dc5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006080820186835260206080602085015281875180845260a08601915060208901935060005b818110156121385784516001600160a01b031683529383019391830191600101612113565b505086604086015284810360608601526121528187611b79565b9998505050505050505050565b60006001820161217157612171611f69565b5060010190565b818103818111156117bd576117bd611f69565b808201808211156117bd576117bd611f69565b634e487b7160e01b600052603160045260246000fd5b6000602082840312156121c657600080fd5b6117ba82611e55565b8481528360208201526001600160401b0383166040820152608060608201526000611bea6080830184611b79565b60006020828403121561220f57600080fd5b6117ba82611e6c56