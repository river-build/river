608060405234801561001057600080fd5b50612139806100206000396000f3fe608060405234801561001057600080fd5b50600436106100cf5760003560e01c806386789fc61161008c578063ca78c41a11610066578063ca78c41a146101ba578063d7a3158a146101db578063ee885b12146101ee578063ff3a14ab1461020157600080fd5b806386789fc61461017c5780639ee86d3814610191578063c0f22084146101a457600080fd5b80631290abe8146100d457806332705ac4146100fd5780633bd84c0c1461011d5780633c2544d11461012557806368b454df146101475780636b883c3914610167575b600080fd5b6100e76100e2366004611918565b610214565b6040516100f491906119c2565b60405180910390f35b61011061010b3660046119f1565b61033f565b6040516100f49190611a8d565b6101106105ef565b610138610133366004611918565b610760565b6040516100f493929190611ae6565b61015a610155366004611918565b610931565b6040516100f49190611b1b565b61017a610175366004611be3565b610a58565b005b610184610cbd565b6040516100f49190611cc6565b61017a61019f366004611d0a565b610cce565b6101ac610e8b565b6040519081526020016100f4565b6101cd6101c8366004611d36565b610e96565b6040516100f4929190611d58565b61017a6101e9366004611da3565b61108f565b61017a6101fc366004611d0a565b61121a565b61017a61020f366004611df3565b611466565b6040805160a081018252600080825260208201819052918101829052606080820183905260808201529061024890836116cd565b61028c5760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102839190600401611e67565b60405180910390fd5b600082815260026020818152604092839020835160a0810185528154815260018201546001600160401b0380821683860152600160401b8204811683880152600160801b909104166060820152928101805485518185028101850190965280865293949193608086019383018282801561032f57602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610311575b5050505050815250509050919050565b6060600061034c816116ea565b6001600160401b0381111561036357610363611b2e565b60405190808252806020026020018201604052801561038c578160200160208202803683370190505b5090506000805b61039d60006116ea565b8110156104525760006103b081836116f4565b60008181526002602052604081209192505b600282015481101561044457876001600160a01b03168260020182815481106103ed576103ed611e7a565b6000918252602090912001546001600160a01b03160361043c5782868661041381611ea6565b975063ffffffff168151811061042b5761042b611e7a565b602002602001018181525050610444565b6001016103c2565b505050806001019050610393565b5060008163ffffffff166001600160401b0381111561047357610473611b2e565b6040519080825280602002602001820160405280156104ac57816020015b610499611817565b8152602001906001900390816104915790505b50905060005b8263ffffffff168110156105e65760405180604001604052808583815181106104dd576104dd611e7a565b602002602001015181526020016000600201600087858151811061050357610503611e7a565b6020908102919091018101518252818101929092526040908101600020815160a0810183528154815260018201546001600160401b0380821683870152600160401b8204811683860152600160801b9091041660608201526002820180548451818702810187019095528085529194929360808601939092908301828280156105b557602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610597575b5050505050815250508152508282815181106105d3576105d3611e7a565b60209081029190910101526001016104b2565b50949350505050565b606060006105fc816116ea565b6001600160401b0381111561061357610613611b2e565b60405190808252806020026020018201604052801561064c57816020015b610639611817565b8152602001906001900390816106315790505b50905060005b61065c60006116ea565b81101561075a57600061066f81836116f4565b60408051808201825282815260008381526002602081815291849020845160a0810186528154815260018201546001600160401b0380821683870152600160401b8204811683890152600160801b909104166060820152918101805486518186028101860190975280875296975093958387019592949193608086019392919083018282801561072857602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831161070a575b50505050508152505081525083838151811061074657610746611e7a565b602090810291909101015250600101610652565b50919050565b6040805160a08101825260008082526020820181905291810182905260608082018390526080820181905290919061079882856116cd565b6107d35760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102839190600401611e67565b600084815260026020818152604080842060048352818520546003845294829020825160a0810184528254815260018301546001600160401b0380821683880152600160401b8204811683870152600160801b9091041660608201529482018054845181870281018701909552808552929695919491938793608086019391929183018282801561088d57602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831161086f575b50505050508152505092508080546108a490611ec9565b80601f01602080910402602001604051908101604052809291908181526020018280546108d090611ec9565b801561091d5780601f106108f25761010080835404028352916020019161091d565b820191906000526020600020905b81548152906001019060200180831161090057829003601f168201915b505050505090509250925092509193909250565b610939611817565b61094360006116ea565b82106109805760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102839190600401611e67565b600061098c81846116f4565b60408051808201825282815260008381526002602081815291849020845160a0810186528154815260018201546001600160401b0380821683870152600160401b8204811683890152600160801b9091041660608201529181018054865181860281018601909752808752969750939583870195929491936080860193929190830182828015610a4557602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610a27575b5050509190925250505090529392505050565b336000818152600760205260409020600201546001600160a01b0316610ab457604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102839190600401611e67565b610abf6000866116cd565b15610b0057604080518082018252600e81526d414c52454144595f45584953545360901b6020820152905162461bcd60e51b81526102839190600401611e67565b60005b8451811015610b8457610b3c858281518110610b2157610b21611e7a565b6020026020010151600060050161170090919063ffffffff16565b610b7c57604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102839190600401611e67565b600101610b03565b506040805160a081018252848152600060208201819052918101829052606081018290526080810186905290610bba9087611722565b5060008681526002602081815260409283902084518155818501516001820180549587015160608801516001600160401b03908116600160801b0267ffffffffffffffff60801b19928216600160401b026fffffffffffffffffffffffffffffffff19909916919094161796909617959095161790935560808401518051859493610c4a93908501920190611861565b5050506000868152600360205260409020610c658482611f4e565b5060008681526004602052604090819020859055517f55ef7efc60ef99743e54209752c9a8e047e013917ec91572db75875069dd65bb90610cad90889088908890889061200d565b60405180910390a1505050505050565b6060610cc9600061172e565b905090565b81610cda6000826116cd565b610d155760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102839190600401611e67565b6001600160a01b03808316600090815260076020526040902060020154839116610d7557604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102839190600401611e67565b6000848152600260205260408120905b6002820154811015610e0e57846001600160a01b0316826002018281548110610db057610db0611e7a565b6000918252602090912001546001600160a01b031603610e0657604080518082018252600e81526d414c52454144595f45584953545360901b6020820152905162461bcd60e51b81526102839190600401611e67565b600101610d85565b5060028101805460018082018355600092835260209283902090910180546001600160a01b0319166001600160a01b03881690811790915560408051898152938401919091528201527faaa473c28a5fe04b6a7ecd795826e462f9d0c23f00ef9f51ec02fa6ea418806f9060600160405180910390a15050505050565b6000610cc9816116ea565b60606000828410604051806040016040528060078152602001664241445f41524760c81b81525090610edb5760405162461bcd60e51b81526004016102839190611e67565b506000610ee88585612080565b6001600160401b03811115610eff57610eff611b2e565b604051908082528060200260200182016040528015610f3857816020015b610f25611817565b815260200190600190039081610f1d5790505b50905060005b610f4860006116ea565b610f528288612093565b108015610f67575084610f658288612093565b105b15611077576000610f83610f7b8389612093565b6000906116f4565b60408051808201825282815260008381526002602081815291849020845160a0810186528154815260018201546001600160401b0380821683870152600160401b8204811683890152600160801b909104166060820152918101805486518186028101860190975280875296975093958387019592949193608086019392919083018282801561103c57602002820191906000526020600020905b81546001600160a01b0316815260019091019060200180831161101e575b50505050508152505081525083838151811061105a5761105a611e7a565b60200260200101819052505080611070906120a6565b9050610f3e565b508061108360006116ea565b90969410159450505050565b336000818152600760205260409020600201546001600160a01b03166110eb57604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102839190600401611e67565b6110f66000876116cd565b6111315760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102839190600401611e67565b600086815260026020526040902084815560018101805467ffffffffffffffff19166001600160401b0386161790558215611199576001818101805467ffffffffffffffff60801b198116600160801b918290046001600160401b0316909317029190911790555b836001600160401b03166001036111c15760008781526003602052604081206111c1916118c6565b60408051888152602081018790526001600160401b03861681830152841515606082015290517fccc26bbb6dd655ea0bb8a40a3c30e35c6bdf42f8faf0d71bbea897af768cda8b9181900360800190a150505050505050565b816112266000826116cd565b6112615760408051808201825260098152681393d517d193d5539160ba1b6020820152905162461bcd60e51b81526102839190600401611e67565b6001600160a01b038083166000908152600760205260409020600201548391166112c157604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102839190600401611e67565b600084815260026020526040812090805b60028301548110156113db57856001600160a01b03168360020182815481106112fd576112fd611e7a565b6000918252602090912001546001600160a01b0316036113d35760028301805461132990600190612080565b8154811061133957611339611e7a565b6000918252602090912001546002840180546001600160a01b03909216918390811061136757611367611e7a565b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b03160217905550826002018054806113a8576113a86120bf565b600082815260209020810160001990810180546001600160a01b0319169055019055600191506113db565b6001016112d2565b508061141d57604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102839190600401611e67565b604080518781526001600160a01b03871660208201526000918101919091527faaa473c28a5fe04b6a7ecd795826e462f9d0c23f00ef9f51ec02fa6ea418806f90606001610cad565b336000818152600760205260409020600201546001600160a01b03166114c257604080518082018252600e81526d1393d11157d393d517d193d5539160921b6020820152905162461bcd60e51b81526102839190600401611e67565b60005b828110156116c757368484838181106114e0576114e0611e7a565b60a0029190910191506114f79050600082356116cd565b61156f577f75460fe319331413a18a82d99b07735cec53fa0c4061ada38c2141e331082afa8135604083013561153360808501606086016120d5565b60408051808201825260098152681393d517d193d5539160ba1b6020820152905161156194939291906120f0565b60405180910390a1506116bf565b80356000908152600260205260409081902090820135815561159760808301606084016120d5565b60018201805467ffffffffffffffff19166001600160401b03929092169190911790556115ca60a083016080840161211e565b15611602576001818101805467ffffffffffffffff60801b198116600160801b918290046001600160401b0316909317029190911790555b61161260808301606084016120d5565b6001600160401b031660010361163b578135600090815260036020526040812061163b916118c6565b7fccc26bbb6dd655ea0bb8a40a3c30e35c6bdf42f8faf0d71bbea897af768cda8b8235604084013561167360808601606087016120d5565b61168360a087016080880161211e565b6040516116b4949392919093845260208401929092526001600160401b031660408301521515606082015260800190565b60405180910390a150505b6001016114c5565b50505050565b600081815260018301602052604081205415155b90505b92915050565b60006116e4825490565b60006116e18383611742565b6001600160a01b038116600090815260018301602052604081205415156116e1565b60006116e1838361176c565b6060600061173b836117bb565b9392505050565b600082600001828154811061175957611759611e7a565b9060005260206000200154905092915050565b60008181526001830160205260408120546117b3575081546001818101845560008481526020808220909301849055845484825282860190935260409020919091556116e4565b5060006116e4565b60608160000180548060200260200160405190810160405280929190818152602001828054801561180b57602002820191906000526020600020905b8154815260200190600101908083116117f7575b50505050509050919050565b60408051808201909152600081526020810161185c6040805160a081018252600080825260208201819052918101829052606080820192909252608081019190915290565b905290565b8280548282559060005260206000209081019282156118b6579160200282015b828111156118b657825182546001600160a01b0319166001600160a01b03909116178255602090920191600190910190611881565b506118c2929150611903565b5090565b5080546118d290611ec9565b6000825580601f106118e2575050565b601f0160209004906000526020600020908101906119009190611903565b50565b5b808211156118c25760008155600101611904565b60006020828403121561192a57600080fd5b5035919050565b600060a08301825184526020808401516001600160401b0380821660208801528060408701511660408801528060608701511660608801525050608084015160a0608087015282815180855260c088019150602083019450600092505b808310156119b75784516001600160a01b0316825293830193600192909201919083019061198e565b509695505050505050565b6020815260006116e16020830184611931565b80356001600160a01b03811681146119ec57600080fd5b919050565b600060208284031215611a0357600080fd5b6116e1826119d5565b805182526000602082015160406020850152611a2b6040850182611931565b949350505050565b60008282518085526020808601955060208260051b8401016020860160005b84811015611a8057601f19868403018952611a6e838351611a0c565b98840198925090830190600101611a52565b5090979650505050505050565b6020815260006116e16020830184611a33565b6000815180845260005b81811015611ac657602081850181015186830182015201611aaa565b506000602082860101526020601f19601f83011685010191505092915050565b606081526000611af96060830186611931565b8460208401528281036040840152611b118185611aa0565b9695505050505050565b6020815260006116e16020830184611a0c565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715611b6c57611b6c611b2e565b604052919050565b600082601f830112611b8557600080fd5b81356001600160401b03811115611b9e57611b9e611b2e565b611bb1601f8201601f1916602001611b44565b818152846020838601011115611bc657600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215611bf957600080fd5b843593506020808601356001600160401b0380821115611c1857600080fd5b818801915088601f830112611c2c57600080fd5b813581811115611c3e57611c3e611b2e565b8060051b611c4d858201611b44565b918252838101850191858101908c841115611c6757600080fd5b948601945b83861015611c8c57611c7d866119d5565b82529486019490860190611c6c565b9850505050604088013594506060880135925080831115611cac57600080fd5b5050611cba87828801611b74565b91505092959194509250565b6020808252825182820181905260009190848201906040850190845b81811015611cfe57835183529284019291840191600101611ce2565b50909695505050505050565b60008060408385031215611d1d57600080fd5b82359150611d2d602084016119d5565b90509250929050565b60008060408385031215611d4957600080fd5b50508035926020909101359150565b604081526000611d6b6040830185611a33565b905082151560208301529392505050565b80356001600160401b03811681146119ec57600080fd5b803580151581146119ec57600080fd5b600080600080600060a08688031215611dbb57600080fd5b853594506020860135935060408601359250611dd960608701611d7c565b9150611de760808701611d93565b90509295509295909350565b60008060208385031215611e0657600080fd5b82356001600160401b0380821115611e1d57600080fd5b818501915085601f830112611e3157600080fd5b813581811115611e4057600080fd5b86602060a083028501011115611e5557600080fd5b60209290920196919550909350505050565b6020815260006116e16020830184611aa0565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052601160045260246000fd5b600063ffffffff808316818103611ebf57611ebf611e90565b6001019392505050565b600181811c90821680611edd57607f821691505b60208210810361075a57634e487b7160e01b600052602260045260246000fd5b601f821115611f49576000816000526020600020601f850160051c81016020861015611f265750805b601f850160051c820191505b81811015611f4557828155600101611f32565b5050505b505050565b81516001600160401b03811115611f6757611f67611b2e565b611f7b81611f758454611ec9565b84611efd565b602080601f831160018114611fb05760008415611f985750858301515b600019600386901b1c1916600185901b178555611f45565b600085815260208120601f198616915b82811015611fdf57888601518255948401946001909101908401611fc0565b5085821015611ffd5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006080820186835260206080602085015281875180845260a08601915060208901935060005b818110156120595784516001600160a01b031683529383019391830191600101612034565b505086604086015284810360608601526120738187611aa0565b9998505050505050505050565b818103818111156116e4576116e4611e90565b808201808211156116e4576116e4611e90565b6000600182016120b8576120b8611e90565b5060010190565b634e487b7160e01b600052603160045260246000fd5b6000602082840312156120e757600080fd5b6116e182611d7c565b8481528360208201526001600160401b0383166040820152608060608201526000611b116080830184611aa0565b60006020828403121561213057600080fd5b6116e182611d9356